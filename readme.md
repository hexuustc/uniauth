# 统一身份认证服务 (UniAuth) 

## 简介
这个项目是一个统一身份认证服务（UniAuth），使用Python的Flask框架构建，并集成了中国科学技术大学（USTC）的统一身份认证功能。该服务允许其他平台通过我们的服务进行用户登录，实现了单点登录（SSO）的效果。

## 特点
- **单点登录**：用户登录一次后，可以在多个应用间无缝切换而无需重复登录。
- **安全性**：通过使用安全的加密技术生成随机的ticket来进行身份验证。
- **可扩展性**：轻松集成其他应用或服务，实现用户的统一认证。

## 系统要求
- Python 3.x
- Flask
- requests库

## 运行
运行服务: `python uniauth.py`。

## 使用方法
1. **用户登录**
    - 通过`/admin/login`路径访问登录页面，输入用户名和密码进行登录。
    - 成功登录后，用户将获得一个`ticket`，可用于后续的身份验证。

2. **CAS登录**
    - 用户可通过`/admin/caslogin`路径并携带`ticket`来完成CAS登录。
    - 该路径会与科大统一身份认证系统进行交互，验证用户的身份。

3. **用户注册**
    - 新用户可以通过`/admin/register`路径注册新账户。

4. **获取用户信息**
    - 已认证的服务可以通过发送POST请求到`/sso/getUserInfo`来获取用户信息，请求需包含`ticket`。

5. **用户登出**
    - 用户可通过`/sso/logout`路径并提供用户名来登出。

## 配置说明
- 在`uniauth.py`中，可以设置服务的IP地址和端口。
- 日志文件路径、日志级别和格式可以在文件顶部进行配置。

## 日志管理
系统使用了基于Python logging模块的日志管理，所有的日志都会被记录在配置的日志文件中。

## 说明
- 本服务使用`Flask-CORS`处理跨域资源共享问题，确保了安全性。
- 敏感信息如用户密码不应明文存储，应采用加密哈希存储。当前代码示例中，密码存储为明文，出于演示目的。
- 此外，本服务并不打算提供直接的用户名注册与登录，主要是集成USTC统一身份认证和各个第三方登录接口，所以直接的用户名注册与登录将在不久后被废弃



